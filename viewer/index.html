<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>mlbtraj viewer (wireframe)</title>
    <link rel="stylesheet" href="style.css" />
    <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
      }
    }
    </script>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    <script type="module" src="app.js"></script>
  </head>
  <body>
    <div class="ui">
      <div class="controls">
        <button id="btnStart">Start</button>
        <button id="btnPrev">Prev</button>
        <button id="btnPlayPause">Play</button>
        <button id="btnNext">Next</button>
        <label><input type="checkbox" id="chkAuto" /> Auto</label>
        <label>Speed
          <select id="selSpeed">
            <option value="0.5">0.5×</option>
            <option value="1" selected>1×</option>
            <option value="2">2×</option>
          </select>
        </label>
      </div>
      <div class="views">
        <button data-view="catcher">Catcher</button>
        <button data-view="if_high">IF High</button>
        <button data-view="lf_stand">LF Stand</button>
        <button data-view="cf_stand">CF Stand</button>
        <button data-view="rf_stand">RF Stand</button>
        <div class="view-adjust" role="group" aria-label="Horizontal view controls">
          <span class="view-adjust__label">Yaw</span>
          <button type="button" id="btnYawLeft" class="mini" aria-label="Yaw left (A)" title="Yaw left (A)">⟲</button>
          <button type="button" id="btnYawRight" class="mini" aria-label="Yaw right (D)" title="Yaw right (D)">⟳</button>
          <span class="view-adjust__label">Pan</span>
          <button type="button" id="btnPanLeft" class="mini" aria-label="Pan left (J)" title="Pan left (J)">◀</button>
          <button type="button" id="btnPanRight" class="mini" aria-label="Pan right (L)" title="Pan right (L)">▶</button>
        </div>
        <label><input type="checkbox" id="chkFollow" /> Follow Ball</label>
        <label>Camera Mode
          <select id="selCameraMode">
            <option value="infield" selected>Infield-centric</option>
            <option value="outfield">Outfield-approach</option>
          </select>
        </label>
      </div>
      <div class="csv-tools">
        <button id="btnCsvSelect" type="button">Select CSV…</button>
        <input type="file" id="csvFile" accept=".csv" hidden />
        <div id="csvDropZone" class="csv-drop" tabindex="0" role="button" aria-label="Drop CSV file or click to choose">
          Drop CSV here or click to choose
        </div>
        <span id="csvStatus" class="status-message" aria-live="polite"></span>
      </div>
      <div class="overlay" id="overlay">
        <span id="ovInning">Inning: -</span>
        <span id="ovOuts">Outs: -</span>
        <span id="ovBatter">Batter: -</span>
        <span id="ovEvent">Event: -</span>
        <span id="ovDate">Date: -</span>
        <span id="ovBatTeam">Bat Team: -</span>
        <span id="ovOppTeam">Opp Team: -</span>
      </div>
    </div>
    <div id="canvasWrap">
      <canvas id="glcanvas"></canvas>
    </div>
    <script type="module" src="app.js"></script>
  </body>
</html>
